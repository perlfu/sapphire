#! /bin/bash
#
# This file is part of Jikes RVM (http://jikesrvm.sourceforge.net).
# The Jikes RVM project is distributed under the Common Public License (CPL).
# A copy of the license is included in the distribution, and is also
# available at http://www.opensource.org/licenses/cpl1.0.php
#
# (C) Copyright IBM Corp. 2006
#
# $Id$
#
# @author Dave Grove
#
# Wrapper script to invoke ecj.
# Used to insulate Jikes RVM build process from details of 
# where ecp is located and and how to invoke it. 

ME="${0##*/}"
if [[ ! ${JAL_BUILD-} ]]; then
    if ! [[ ${RVM_BUILD-} ]]; then
	echo >&2 "$ME: RVM_BUILD must be set if you're not running this program
    as a subsidiary of jbuild.  It isn't; aborting."
	exit 1
    fi
    . ${RVM_BUILD}/environment.host
fi

ECJ_DEFAULT_ARGS="-warn:-unusedPrivate"

$HOST_VM_RT -Xmx256m -jar $JAL_ROOT/tools-external/ecj/ecj.jar $ECJ_DEFAULT_ARGS "$@"
