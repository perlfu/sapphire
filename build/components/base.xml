<project name="base-components">

  <property name="jikesrvm.dir" location="${basedir}/../../"/>
  <import file="${jikesrvm.dir}/build/base.xml"/>
  <import file="${jikesrvm.dir}/build/tasks.xml"/>

  <property file="${target.file}"/>

  <macrodef name="setupComponentsConfig">
    <text name="props"/>
    <sequential>
      <if>
        <conditions>
          <isset property="protect.config-files"/>
        </conditions>
        <sequential>
          <echo><![CDATA[Edit the components configuration file ${components.file} and add the following lines(s):${line.separator}@{props}]]></echo>
        </sequential>
      </if>
      <if>
        <conditions>
          <not>
            <isset property="protect.config-files"/>
          </not>
        </conditions>
        <sequential>
          <echo file="${components.file}" append="true"><![CDATA[@{props}]]></echo>
        </sequential>
      </if>
    </sequential>
  </macrodef>
</project>
