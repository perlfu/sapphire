Index: gnu/xml/dom/DomNode.java 
===================================================================
diff -r gnu/xml/dom/DomNode.java 
1111,1112d1110
<     DomNode node = (DomNode) clone();
<     
1115,1117c1113,1135
<         DomDocument doc = (nodeType == DOCUMENT_NODE) ?
<           (DomDocument) node : node.owner;
<         boolean building = doc.building;
---
>         return cloneNodeDeepInternal(true, null);
>       }
> 
>     DomNode node = (DomNode) clone();
>     if (nodeType == ENTITY_REFERENCE_NODE)
>       {
>         node.makeReadonly();
>       }
>     notifyUserDataHandlers(UserDataHandler.NODE_CLONED, this, node);
>     return node;
>   }
> 
>   /**
>    * Returns a deep clone of this node.
>    */
>   private DomNode cloneNodeDeepInternal(boolean root, DomDocument doc)
>   {
>     DomNode node = (DomNode) clone();
>     boolean building = false; // Never used unless root is true
>     if (root)
>       {
>         doc = (nodeType == DOCUMENT_NODE) ? (DomDocument) node : node.owner;
>         building = doc.building;
1119,1125c1137,1142
<         for (DomNode ctx = first; ctx != null; ctx = ctx.next)
<           {
<             DomNode newChild = (DomNode) ctx.cloneNode(deep);
<             newChild.setOwner(doc);
<             node.appendChild(newChild);
<           }
<         doc.building = building;
---
>       }
>     node.owner = doc;
>     for (DomNode ctx = first; ctx != null; ctx = ctx.next)
>       {
>         DomNode newChild = ctx.cloneNodeDeepInternal(false, doc);
>         node.appendChild(newChild);
1130a1148,1151
>     if (root)
>       {
>         doc.building = building;
>       }
