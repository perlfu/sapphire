--- native/fdlibm/fdlibm.h	2006-04-01 21:11:32.000000000 -0500
+++ native/fdlibm/fdlibm.h	2007-06-01 16:17:16.000000000 -0400
@@ -13,9 +13,12 @@
 #ifndef __CLASSPATH_FDLIBM_H__
 #define __CLASSPATH_FDLIBM_H__
 
-/* AIX needs _XOPEN_SOURCE */
-#ifdef _AIX
-#define _XOPEN_SOURCE
+/*
+ * On AIX we need _ALL_SOURCE defined to compile/configure native-lib, but can't
+ *  have it defined to compile fdlibm.  UGH.
+ */
+#ifdef _AIX
+#undef _ALL_SOURCE
 #endif
 
 #include <config.h>
