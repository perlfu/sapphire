#!/bin/sh
#
# (C) Copyright IBM Corp. 2001
#
# $Id$
#
# @author Derek Lieber

# Search rvm source files for specified word.
# If no word is specified, list names of all rvm source files.

if [ $# = 0 ]; then
   find $RVM_ROOT/rvm/src/vm -name CVS -prune \
	         -o -name '*.java'     \
                 -o -name '*.C'        \
                 -o -name '*.c'        \
                 -o -name '*.s'        \
                 -o -name '*.h'        \
                 -o -name '*.template' \
                 -o -name 'Make*'      

else
   find $RVM_ROOT/rvm/src/vm -name CVS -prune \
	         -o -name '*.java'     \
                 -o -name '*.C'        \
                 -o -name '*.c'        \
                 -o -name '*.s'        \
                 -o -name '*.h'        \
                 -o -name '*.template' \
                 -o -name 'Make*'      \
                 | xargs fgrep -n -- "$*"
fi

if [ $# = 0 ]; then
   find $RVM_ROOT/rvm/src/tools -name CVS -prune \
	         -o -name '*.java'     \
                 -o -name '*.C'        \
                 -o -name '*.c'        \
                 -o -name '*.s'        \
                 -o -name '*.h'        \
                 -o -name '*.template' \
                 -o -name 'Make*'      

else
   find $RVM_ROOT/rvm/src/tools -name CVS -prune \
	         -o -name '*.java'     \
                 -o -name '*.C'        \
                 -o -name '*.c'        \
                 -o -name '*.s'        \
                 -o -name '*.h'        \
                 -o -name '*.template' \
                 -o -name 'Make*'      \
                 | xargs fgrep -n -- "$*"
fi
