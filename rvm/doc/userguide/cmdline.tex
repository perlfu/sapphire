\label{subsection:cmdline}
\index{command line arguments}

This section describes how non-standard Jikes\trademark RVM command
line options are specified. Command line options can be used to modify
the behavior of the runtime system, adaptive optimization system, the
optimizing compiler, the baseline compiler, or the memory manager.  A
command-line directive is constructed by concatenating an option with
a prefix which identifies the desired destination for that option.

All of the non-standard VM options must occur before 
the application class name and application's command-line options.

The order of non-standard command line argument is significant. Each
command line option is processed in order, as typed on the command
line. For example, using a {\tt printOptions} directive for a
subsystem will print the current value of the subsystem's options and
this will reflect only those command line arguments that have preceded
the {\tt printOptions} directive.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Adaptive Optimization System (AOS) Command-Line Options}

To see a description of the command-line options to the AOS, use 
{\tt -X:aos:help}.  As of this writing, this command produces the
following output:

\T \begin{tiny}
\input{adaptive_options}
\T \end{tiny}

All options in an adaptive configuration are prefixed with {\tt
-X:aos}.  To pass an option to the adaptive optimization system, use
the {\tt -X:aos:} prefix.  For example, to set the logging level of
AOS to one, use the directive {\tt -X:aos:logging\_level=1}. An
adaptive configuration may conceptually have many optimizing compilers
that are available at runtime, each with its own set of option values.
We present a mechanism to address each conceptual optimizing compiler.
To pass options to the opt compiler that recompiles a method use the
{\tt -X:recomp[?]} prefix where the {\tt ?} is optional and if
specified is an integer that identifies the optimization level.  For
example, {\tt -X:recomp2:global\_bounds=true} performs global array
bounds check elimination on demand when a method is recompiled at
optimization level 2.  If no optimization level is specified, the
option applies to all optimization levels of the optimizing compiler
that recompiles methods.  For example, {\tt
-X:recomp:global\_bounds=true} performs global array bounds check
elimination on demand whenever a method is recompiled with
optimization.  In the default adaptive configurations, the initial
runtime compiler is the baseline compiler.  Options are passed to the
initial runtime compiler by prefixing each option with {\tt -X:irc:}.  

The {\tt enable\_recompilation} option determines whether or not the
adaptive system will actually adaptively recompile methods.  By
default, this is set to true. By setting this to false, Jikes RVM can
simulate a JIT-only system by compiling each method on first
invocation with a specified {\tt initial\_compiler}. For example, 
by saying {\tt -X:aos:enable\_recompilation=false
-X:aos:initial\_compiler=opt}, one can force all methods to be
optimized on first invocation. 
This has the effect of making the initial runtime compiler
be the optimizing compiler (and no recompilations will take place), so
subsequent options in the command line that are prefixed with {\tt
-X:irc:} will be passed to the optimizing compiler. Since no
recompilation will take place options prefixed with {\tt -X:recomp:}
will have no effect.  For example to optimize compile a method at
optimization level 1, use the {\tt -X:irc:O1} option. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Baseline Compiler Command-Line Options}
\label{section:nonadaptive:baseline:options}

To see descriptions of the command-line options to the baseline
compiler, use the {\tt help} option with the prefix {\tt -X:base:} 
to generate the following output:

\T \begin{small}
\input{base_options}
\T \end{small}
 
Note that when the initial runtime compiler is the baseline compiler, 
the {\tt -X:irc} and the {\tt -X:base} command line prefixes are equivalent.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Optimizing Compiler Command-Line Options}
\label{section:nonadaptive:optimizing:options}

To see descriptions of command-line options to the optimizing compiler,
use the {\tt help} option with the {\tt -X:opt:} prefix 
to generate the following output:

\T \begin{tiny}
\input{opt_options}
\T \end{tiny}

Note that when the initial runtime compiler is the optimizing compiler, 
the {\tt -X:irc} and the {\tt -X:opt} command line prefixes are equivalent.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{JMTk Command-Line Options}
\label{section:jmtkoptions}

To see descriptions of command-line options to JMTk,
use the {\tt help} option with the {\tt -X:gc:} prefix 
to generate the following output:

\T \begin{tiny}
\input{jmtk_options}
\T \end{tiny}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Adding Jikes RVM Non-Standard Command-Line Options}
This section states how non-standard Jikes\trademark RVM command-line
options can be added to Jikes RVM.  Non-standard Jikes RVM
command-line options are those options that are specific to Jikes RVM.
The format of a non-standard Jikes RVM option is {\tt -X:o=v} where
{\tt o} is the option and {\tt v} is the value it is to be set to.
Adherence to this format is important to keep command-line options
processing from becoming unwieldy.

Jikes RVM command-line options are processed in two places: 
{\tt RunBootImage.C} and {\tt VM\_CommandLineArgs.java}.  
{\tt RunBootImage.C} is called first before the boot image is loaded, and
{\tt VM\_CommandLineArgs.java} is called after.  In addition to
processing any option which does not require the Jikes RVM boot image
to be loaded (such as {\tt help} and {\tt version}), 
{\tt RunBootImage.C} processes any non-standard option that impacts either
heap size, message output, or where to find the boot image.  To allow
unrestricted order of Jikes RVM options and because command-line processing
stops at the first option that is not recognized as a Jikes RVM
option, all Jikes RVM options must be recognized by {\tt RunBootImage.C}
and passed on.

\JikesTMFooter
