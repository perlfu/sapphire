This Section provides a road-map for the various directory trees used by \jp .

\subsection{{\tt \$RVM\_ROOT} directory structure}\label{rvmroot}

This Section provides a road-map for the \jp\ source tree.

\begin{description}
 
\item [{\tt \$RVM\_ROOT/bin}] scripts and binary tools
\item [{\tt \$RVM\_ROOT/config}] system configuration files
\item [{\tt \$RVM\_ROOT/doc}] documentation, including
   \begin{itemize}
   \item the \jp\ user's guide
   \item javadoc HTML documentation
   \end{itemize}
\item [{\tt \$RVM\_ROOT/examples}] test programs
\item [{\tt \$RVM\_ROOT/lib}] standard class libraries
\item [{\tt \$RVM\_ROOT/src}] all source code
   \begin{description}
   \item [{\tt lib}] source to OTI standard class libraries
   \item [{\tt tools}] tools for building and running \jp
   \item [{\tt vm}] all \jp\ virtual machine code
   \end{description}
\end{description}

\subsubsection{{\tt \$RVM\_ROOT/src/tools} subtree}

\begin{description}
\item [{\tt bootImageRunner}] a tool for booting \jp
\item [{\tt bootImageWriter}] a tool for creating a \jp\ boot image
\item [{\tt builder}] a tool for constructing a build environment
\item [{\tt gft}] a tool for template generation
\item [{\tt interpreter}] a Java\trademark interpreter with the extension for remote reflection to support jdp
\item [{\tt jdp}] the \jp\ debugger
\item [{\tt jburg}] BURS grammar parser (see section~\ref{burs})
\end{description}

\subsubsection{{\tt \$RVM\_ROOT/src/vm} subtree}

\begin{description}
\item [{\tt adaptive}] adaptive optimization subsystem
\item [{\tt allocator}] memory management subsystem
\item [{\tt arch}] all machine-specific code
\item [{\tt baselineCompiler}] support for the baseline compiler
\item [{\tt bootImageCompiler}] support for compiling code that goes in the boot image
\item [{\tt classLoader}] class loading, type system
\item [{\tt optimizingCompiler}] optimizing compiler
\item [{\tt profiler}] hooks for runtime monitoring of the VM
(more runtime measurements code belongs to adaptive subtree)
\item [{\tt runtime}] entrypoints to runtime system, exception handling, some JNI support, reflection, some dynamic linking
\item [{\tt runtimeCompiler}] support for runtime compilation
\item [{\tt scheduler}] thread subsystem, synchronization
\item [{\tt utility}] miscellany
\end{description}

\subsubsection{{\tt \$RVM\_ROOT/src/vm/optimizingCompiler} subtree}
\begin{description}
\item [{\tt driver}] compiler driver and support
\item [{\tt instrumentation}] support for compiler-inserted instrumentation
\item [{\tt ir}] the optimizing compiler's intermediate representation
   \begin{description}
   \item [{\tt cfg}] control-flow graph and substructures
   \item [{\tt conversions}] conversions between IR levels
      \begin{description}
      \item [{\tt bc2hir}] abstract interpretation from bytecode to HIR
      \item [{\tt hir2lir}] HIR to LIR conversion
      \item [{\tt lir2mir}] LIR to MIR conversion (BURS)
      \item [{\tt mir2mc}] final expansion from machine code to binary code
      \end{description}
   \item [{\tt gcmap}] stack maps for type-exact garbage collection
   \item [{\tt instruction}] instruction formats, operators, and operands
   \item [{\tt util}] IR manipulation utilities
   \end{description}
\item [{\tt optimizations}] various analyses and transformations
   \begin{description}
   \item [{\tt control}] control-flow analyses and transformations
   \item [{\tt global}] global analyses and transformations 
      \begin{description}
      \item [{\tt coalesce}] register coalescing
      \item [{\tt liveAnalysis}] liveness analysis
      \item [{\tt simpleSSA}] simple flow-insensitive analyses and transformations
      \item [{\tt ssa}] analyses and transformations on SSA form
      \end{description}
   \item [{\tt ipa}] inter-procedural analyses and transformations
      \begin{description}
      \item [{\tt inlining}] inlining utilities
      \item [{\tt summaries}] construction of method summaries
      \end{description}
   \item [{\tt local}] analyses and transformations local to a basic block
      \begin{description}
      \item [{\tt depGraph}] dependence graph construction
      \item [{\tt instructionScheduler}] instruction scheduling
      \end{description}
   \end{description}
\item [{\tt regalloc}] register allocation
\item [{\tt util}] miscellaneous data structures and tools
   \begin{description}
   \item [{\tt dataflowUtil}] utilities for setting up and solving dataflow equations
   \item [{\tt exception}] various exceptions used in the compiler
   \item [{\tt graph}] graph data structures and utilities
   \item [{\tt list}] list data structures and utilities
   \item [{\tt set}] set data structures and utilities
   \item [{\tt vcg}] graph visualization utilities (should it be under graph?)
   \end{description}
\item [{\tt vmInterface}] interface to the virtual machine
   \begin{description}
   \item [{\tt classLoader}] abstractions of class loader services
   \item [{\tt services}] compiler-supported runtime services for the virtual machine
   \end{description}
\end{description}

\subsubsection{{\tt \$RVM\_ROOT/src/vm/adaptive} subtree}

\begin{description}
\item [{\tt controller}] the controller subsystem
\item [{\tt database}] AOS database for profile info
\item [{\tt instrumentation}] instrumentation-related code
\item [{\tt recompilation}] recompilation subsystem
\item [{\tt runtimeMeasurements}] online profiling subsystem
\item [{\tt utility}] options, logging, data structures, etc.
\end{description}

\subsubsection{{\tt \$RVM\_ROOT/src/vm/allocator} subtree}
\begin{description}
\item [{\tt noncopyingGC}] non-copying mark-sweep allocator and collector
\item [{\tt noncopyGCgen}] non-copying mark-sweep generational allocator and collector
\item [{\tt copyingGC}] semi-space copying allocator and collector
\item [{\tt copyGCgen}] copying generation allocator and collector with variable sized nursery
\item [{\tt copyGCgenSmallN}] copying generation allocator and collector with fixed sized nursery
\item [{\tt hybridGC}] generational allocator and collector with a copying nursery and a non-copying mature space
\item [{\tt noGC}] simple sequential allocator without collection
\end{description}

\subsection{{\tt \$RVM\_BUILD} directory structure}\label{rvmbuild}

The \jp\ build directory consists of the following files and subdirectories.

\begin{itemize}
\item Directories
   \begin{description}
   \item [{\tt Jalapeno.classes}] This directory contains all
   the preprocessed source files required for the current
   configuration as well as their corresponding bytecode files.

   \item [{\tt Jalapeno.generatedSources}] This directory contains
   all the automatically generated source files required for the current
   configuration.  Preprocessed versions of these files are located
   in {\tt Jalapeno.classes}.

   \item [{\tt Jalapeno.scratch}] This directory contains various
   supplementary files used in building the \jp\ boot image.

   \item [{\tt Jalapeno.tools}] This directory contains the classes
   and native library for jdp debugger.

   \end{description}
\item Files
   \begin{description}
   \item [{\tt Jalapeno}] The \jp\ executable.
   \item [{\tt Jalapeno.configuration}] Information
         about this build's configuration, its name, and the various
         preprocessor flags associated with the configuration.
   \item [{\tt Jalapeno.exclusions}] The list of
         classes which would otherwise be included in the boot image
         which are excluded.
   \item [{\tt Jalapeno.image}] The \jp\ boot image.
   \item [{\tt Jalapeno.primordials}] The list of classes which are
         included in the boot image.
   \item [{\tt Jalapeno.sources}] The list of directories
         in the shadow from which
         source files will be read for this configuration.
   \item [{\tt jbuild}] The main build script which invokes the other
      jbuild.* scripts.
      \begin{description}
      \item [{\tt jbuild.environment}] Sets the jbuild builder environment.
      \item [{\tt jbuild.expand}] Expands any template files.
      \item [{\tt jbuild.copy}] Preprocesses the source files in the
            shadow and copies them to {\tt Jalapeno.classes}.
         \begin{description}
         \item [{\tt jbuild.prep}] Preprocesses the source files.
         \end{description}
      \item [{\tt jbuild.compile}] Compiles source files
            in {\tt Jalapeno.classes}.
      \item [{\tt jbuild.linkImage}] Links the boot image.
      \item [{\tt jbuild.linkBooter}] Links the booter.
      \end{description}
   \item [{\tt jbuild.tool}] Generates class files that are not part
         of the build.
   \item [{\tt libfloat.a}]
   \item [{\tt libjni.a}]
   \end{description}
\end{itemize}

