<html>
    <head>
        <title>RVM : Debugging the RVM</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            RVM : Debugging the RVM
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Mar 07, 2007 by <font color="#0050B2">pdonald</font>.
				    </div>

				    <p>There are different tools for debugging the Jikes RVM:</p>

<h2><a name="DebuggingtheRVM-GDB"></a>GDB</h2>

<p>There is a limited amount of C code used to start the Jikes RVM. The rvm script will start the Jikes RVM using GDB (the GNU debugger) if the first argument is <tt>-gdb</tt>. Break points can be set in the C code, variables, registers can be expected in the C code. </p>

<div class="preformatted"><div class="preformattedContent">
<pre>rvm -gdb &lt;RVM args&gt; &lt;name of Java application&gt; &lt;application args&gt;
</pre>
</div></div>

<p>The dynamically created Java code doesn't provide GDB with the necessary symbol information for debugging. As some of the Java code is created in the boot image, it is possible to find the location of some Java methods and to break upon them. To determine the location use the RVM.map file. A script to enable use of the RVM.map as debugger information inside GDB is provided <a href="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=1160674&amp;group_id=128805&amp;atid=723235" title="Visit page outside Confluence">here</a>.</p>

<h2><a name="DebuggingtheRVM-JavaPlatformDebuggerArchitecture%28JPDA%29"></a><a href="http://java.sun.com/j2se/1.5.0/docs/guide/jpda/index.html" title="Visit page outside Confluence">Java Platform Debugger Architecture (JPDA)</a></h2>

<p>In general the JPDA provides 3 mechanisms for debugging Java applications:</p>
<ul>
	<li>The <a href="http://java.sun.com/j2se/1.5.0/docs/guide/jpda/jdi/index.html" title="Visit page outside Confluence">Java Debug Interface</a> is an API for debugging Java code from Java.</li>
	<li>The <a href="http://java.sun.com/j2se/1.5.0/docs/guide/jvmti/jvmti.html" title="Visit page outside Confluence">JVM Tools Interface</a> is an API for writing native/C code for debugging a JVM, it is similar to the Java Native Interface (JNI).</li>
	<li>The <a href="http://java.sun.com/j2se/1.5.0/docs/guide/jpda/jdwp-spec.html" title="Visit page outside Confluence">Java Debug Wire Protocol</a> is a network protocol for debugging Java code running on JVMs.</li>
</ul>


<p>Currently JDWP code is being implemented in the Jikes RVM based on the GNU Classpath implementation.</p>

				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="border/border_bottom.gif"><img src="border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Mar 15, 2007 09:56</font></td>
		    </tr>
	    </table>
    </body>
</html>